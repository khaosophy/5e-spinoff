---
import classData from '../content/data/0.1/classes.json';
const { name } = Astro.props;
const info = classData.find((c) => c.name === name);
---

<h2>Class Features</h1>
<p>As a {info.name.toLowerCase()}, you gain the following class features.</p>

<h3>Hit Points</h3>
<p><strong>Hit Dice:</strong> 1d{info.hit_die} per {info.name.toLowerCase()} level</p>
<p><strong>Hit Points at 1st Level:</strong> {info.hit_die} + your Constitution modifier</p> 
<p><strong>Hit Points at Higher Levels:</strong> {Math.floor(info.hit_die / 2) + 1} + your Constitution modifier per {info.name.toLowerCase()} level after 1st</p>

<h3>Proficiencies</h3>
<p>{info.proficiencies.map((prof, i) => {
  if (i === info.proficiencies.length - 1) {
    return `and ${prof.name}.`;
  } else {
    return `${prof.name}, `;
  }
})}</p>
<!-- todo: skills -->
<!-- todo: equipment when there is no choice? see barbarian -->

<h3>Equipment</h3>
<p>You start with the following equipment, in addition to the equipment granted by your background:</p>
<ul>
  {info.starting_equipment_options.map(({ desc }) => <li>{desc}</li>)}
</ul>

<!-- todo: features and subclasses -->