---
import { marked } from 'marked'
const { slug } = Astro.props
let content = null;
const response = await fetch(`https://www.dnd5eapi.co/api/rules/${slug}`);
if (response.ok) {
  const data = await response.json();
  content = marked(data.desc);
} else {
  content = 'Error loading content';
}
// todo: get sub rules (or rule sections) and render them as well
---

<article set:html={content} />